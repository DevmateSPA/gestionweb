<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Imprenta Web{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Navbar principal -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('principal.index') }}"> Imprenta Web</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainMenu">
                <ul class="navbar-nav me-auto">

                    <!-- ENTRADAS -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="menuEntradas" role="button" data-bs-toggle="dropdown">
                            Entradas
                        </a>
                        <ul class="dropdown-menu">

                            <!-- Informaci贸n General -->
                            <li class="dropdown-submenu dropend">
                                <a class="dropdown-item dropdown-toggle" href="#">Informaci贸n General</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="{{ url_for('banco.index') }}">Informaci贸n de Bancos</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('cliente.index') }}">Informaci贸n de Clientes</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('proveedor.index') }}">Informaci贸n de Proveedores</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('grupo.index') }}">Informaci贸n de Grupos</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('producto.index') }}">Informaci贸n de Productos</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('maquina.index') }}">Informaci贸n de M谩quinas</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('operario.index') }}">Informaci贸n de Operarios</a></li>
                                </ul>
                            </li>

                            <!-- Informaci贸n de Costos -->
                            <li class="dropdown-submenu dropend">
                                <a class="dropdown-item dropdown-toggle" href="#">Informaci贸n de Costos</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="{{ url_for('impresion.index') }}">Impresiones</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('encuadernacion.index') }}">Encuadernaci贸n</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('fotomecanica.index') }}">Fotomec谩nica</a></li>
                                </ul>
                            </li>

                            <!-- Documentos de Venta -->
                            <li class="dropdown-submenu dropend">
                                <a class="dropdown-item dropdown-toggle" href="#">Documentos de Venta</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="{{ url_for('guiadespacho.index') }}">Gu铆as de Despacho</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('factura.index') }}">Facturas</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('notacredito.index') }}">Notas de Cr茅dito</a></li>
                                    <li><a class="dropdown-item" href="{{ url_for('documentonulo.index') }}">Documentos Nulos</a></li>
                                </ul>
                            </li>

                        </ul>
                    </li>

                    <!-- SALIDAS -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="menuSalidas" role="button" data-bs-toggle="dropdown">
                            Salidas
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Consulta/Informe Ctas. Ctes (Clientes)</a></li>
                            <li><a class="dropdown-item" href="#">Consulta/Informe Ctas. Ctes (Proveedores)</a></li>
                            <li><a class="dropdown-item" href="#">Consulta/Informe de Existencias</a></li>
                        </ul>
                    </li>

                    <!-- REPORTES -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="menuReportes" role="button" data-bs-toggle="dropdown">
                            Reportes
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Gu铆as por Facturar</a></li>
                            <li><a class="dropdown-item" href="#">Libro de Ventas</a></li>
                            <li><a class="dropdown-item" href="#">Vcto. de Facturas</a></li>
                            <li><a class="dropdown-item" href="#">Vcto. de Cheques</a></li>
                            <li><a class="dropdown-item" href="#">O.T. Impagas por Cliente</a></li>
                            <li><a class="dropdown-item" href="#">Correlativos O.T.</a></li>
                            <li><a class="dropdown-item" href="#">Pendientes de Producci贸n</a></li>
                        </ul>
                    </li>

                    <!-- PROCESOS -->
                    <li class="nav-item">
                        <a class="nav-link" href="#">Procesos</a>
                    </li>
                </ul>

                <!-- Acciones -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('principal.index') }}"> Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger" href="{{ url_for('login.logout') }}">Salir</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container mt-4">
        {% block content %}{% endblock %}
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Submen煤s anidados -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.querySelectorAll('.dropdown-submenu .dropdown-toggle').forEach(function (el) {
            el.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                const subMenu = this.nextElementSibling;
                if (subMenu) subMenu.classList.toggle('show');
            });
        });
    </script>
</body>
</html>
<script>
document.addEventListener("click", function(e) {
    // cerrar otros men煤s al hacer clic fuera
    document.querySelectorAll(".action-menu").forEach(menu => {
        if (!menu.contains(e.target)) menu.classList.remove("show");
    });

    // abrir el men煤 del bot贸n clicado
    if (e.target.closest(".action-btn")) {
        const menu = e.target.closest(".action-menu");
        menu.classList.toggle("show");
    }
});
</script>